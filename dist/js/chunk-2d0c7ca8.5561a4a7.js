(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7ca8"],{"51b8":function(e,t,a){"use strict";a.r(t);var r=a("8336"),s=a("8fea"),i=a("891e"),o=a("0fd9"),d=a("e0c7"),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dashboard"},[t(d["a"],{staticClass:"py-0 d-flex justify-space-between rounded-lg"},[t("h3",[e._v("지난 주문")]),t(r["a"],{attrs:{color:"success"},on:{click:e.search}},[e._v(" 검색 ")])],1),t("br"),t(o["a"],[t("date-picker",{attrs:{label:"시작일"},on:{inputDate:e.inputStartDate}}),t("date-picker",{attrs:{label:"종료일"},on:{inputDate:e.inputEndDate}})],1),t(o["a"],[t("div",{staticClass:"subtitle-1"},[e._v(e._s(e.startDate)+" ~ "+e._s(e.endDate)+" 내역")])]),t("br"),t(s["a"],{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.orders,"items-per-page":e.itemsPerPage,"hide-default-footer":""},scopedSlots:e._u([{key:"item.detail",fn:function({item:e}){return[t("order-detail-dialog",{attrs:{dialog:!1,orderId:e.orderId}})]}}])}),t("div",{staticClass:"text-center pt-2"},[t(i["a"],{attrs:{length:e.pageCount,"total-visible":e.totalVisible},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)},c=[],l=(a("14d9"),a("f8b7")),u=a("e94a"),h=a("572f");const p=a("c1df");var f={name:"PrevOrder",components:{"date-picker":u["a"],"order-detail-dialog":h["a"]},mounted:function(){this.search()},watch:{page:function(){this.search()}},data:function(){return{startDate:"",endDate:"",page:1,pageCount:1,itemsPerPage:10,totalVisible:10,headers:[{text:"주문번호",align:"start",sortable:!1,value:"orderId"},{text:"주문상태",value:"orderStatus"},{text:"주문시간",value:"orderTime"},{text:"주문상품",value:"orderItemNames"},{text:"결제금액",value:"orderPrice"},{text:"닉네임",value:"userName"},{text:"상세보기",value:"detail",sortable:!1}],orders:[]}},methods:{search:function(){this.checkDate()&&l["a"].requestPrevOrder(this.startDate,this.endDate,this.page-1).then(e=>{this.renderList(e.data)}).catch(e=>{console.log(e)})},renderList:function(e){const t=e.data.orders;this.orders=[],t.forEach(e=>{this.orders.push({orderId:e.orderId,orderStatus:this.$options.filters.getOrderStatusName(e.orderStatus),orderTime:e.orderTime,orderItemNames:this.getOrderItemName(e.orderItems),orderPrice:this.$options.filters.currency(e.orderPrice),userName:e.userName})});const a=e.data.page;this.page=a.startPage+1,this.pageCount=a.totalPage},checkDate:function(){return this.startDate&&this.endDate?!p(this.startDate).isAfter(this.endDate)||(alert("시작일은 종료일보다 클 수 없습니다."),!1):(alert("시작일과 종료일을 입력해주세요."),!1)},inputStartDate:function(e){this.startDate=e},inputEndDate:function(e){this.endDate=e},getOrderItemName:function(e){const t=e.length,a=e[0].orderItemName;return 1==t?a:t>1?a+" 외 "+(t-1)+"건":void 0}}},m=f,g=a("2877"),v=Object(g["a"])(m,n,c,!1,null,"2a37639e",null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0c7ca8.5561a4a7.js.map