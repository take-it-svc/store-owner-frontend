{"version":3,"sources":["webpack:///../../../src/components/VForm/VForm.ts","webpack:///./src/views/Menu.vue","webpack:///./src/components/MenuItem.vue","webpack:///./src/components/ItemOption.vue","webpack:///src/components/ItemOption.vue","webpack:///./src/components/ItemOption.vue?09bd","webpack:///./src/components/ItemOption.vue?808a","webpack:///src/components/MenuItem.vue","webpack:///./src/components/MenuItem.vue?6391","webpack:///./src/components/MenuItem.vue?8082","webpack:///src/views/Menu.vue","webpack:///./src/views/Menu.vue?efdb","webpack:///./src/views/Menu.vue?2f7e"],"names":["mixins","BindsAttrs","RegistrableProvide","extend","name","provide","form","this","inheritAttrs","props","disabled","Boolean","lazyValidation","readonly","value","data","inputs","watchers","errorBag","watch","handler","val","errors","Object","values","includes","$emit","deep","immediate","methods","watchInput","input","watcher","$watch","$set","_uid","valid","shouldValidate","hasOwnProperty","validate","filter","length","reset","forEach","resetErrorBag","setTimeout","resetValidation","register","push","unregister","found","find","i","unwatch","$delete","render","h","staticClass","attrs","novalidate","attrs$","on","submit","e","$slots","default","_vm","modalSet","addItemOption","$event","_c","model","callback","expression","key","item","modalData","editModalOpen","itemSave","$$v","staticRenderFns","dialog","optionType","component","components","ItemOption","req","otr","itemName","itemPrice","categoryId","categoryList","requiredOption","otherOption","icon","color","save","MenuItem","page","word","icons","mdiContentSave","mdiPlus","mdiDelete","words","modify","primary","red","itemId","pageCount","itemsPerPage","totalVisible","headers","text","align","sortable","menus","getMenu","store","then","vm","getModalData","requiredOptionItems","otherOptionItems","response","method","mounted"],"mappings":"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aAAAqG,aACA,CAAAF,YAAAnG,qBAAAqG,aACA,CAAAF,UAAAnG,cAAAqG,aACA,CAAAF,UAAAnG,eAAAqG,cAEAhB,QACAiB,WAGAvF,SACAwF,UACA,WACA,SACAlB,YACAD,eAEAoB,kBACAC,MAAA,YACA,yBACAC,6BACAA,qBACAA,4BAGAC,wBACA,WACA,gBACAjC,YACAC,aACAC,aACAC,gBACAC,kBACA8B,uBACA7B,eACA8B,qBAGAL,yBACAC,MAAA,YACAK,iCACAJ,wCAIA3C,0BACA,WACA,oBAEAyC,yBACAC,MAAA,YACA,kBACAC,wBACAA,4BACAA,8BACAA,oCACA7C,mCACA,2BACA6C,mCACAA,0CAGAA,gCACAA,6CAKA1C,oBACA,SACA,iBAEA+C,EADA,4BACAA,MAEAA,OAGA,SACA,6CACA,YACAjC,cACA,CACA,4DACAA,UAIA,SACA,0CACA,YACAC,cACA,CACA,yDACAA,UAIA,gCACA,6BACAyB,sBAEAlD,4BACA,OACAhE,OACA8E,cAEA,gBACA,sCACA,6CAGA,mCACA,2CAMA4C,UACA,eACA,sBC3P8U,ICO1U,EAAY,eACd,EACA,EACA9C,GACA,EACA,KACA,WACA,MAIa,e","file":"js/chunk-d53dbc26.79399fee.js","sourcesContent":["// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-subheader',{staticClass:\"py-0 d-flex justify-space-between rounded-lg\"},[_c('h3',[_vm._v(\"메뉴 관리\")]),_c('MenuItem',{attrs:{\"modalData\":_vm.modalData,\"icon\":_vm.modalSet.icon.register,\"color\":_vm.modalSet.color.red,\"name\":_vm.modalSet.words.register},on:{\"save\":_vm.itemSave,\"addItemOption\":_vm.addItemOption,\"init\":_vm.getModalData}})],1),_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"검색\",\"required\":\"\"},model:{value:(_vm.word),callback:function ($$v) {_vm.word=$$v},expression:\"word\"}})],1)],1)],1)],1),_c('v-col',[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.menus,\"items-per-page\":_vm.itemsPerPage,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.modify\",fn:function({ item }){return [_c('MenuItem',{attrs:{\"modalData\":_vm.modalData,\"icon\":_vm.modalSet.icon.modify,\"color\":_vm.modalSet.color.primary,\"name\":_vm.modalSet.words.modify},on:{\"init\":function($event){return _vm.editModalOpen(item)},\"save\":_vm.itemSave,\"addItemOption\":_vm.addItemOption}})]}}])}),_c('div',{staticClass:\"text-center pt-2\"},[_c('v-pagination',{attrs:{\"length\":_vm.pageCount,\"total-visible\":_vm.totalVisible},on:{\"click\":_vm.getMenu},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"elevation\":\"2\",\"icon\":\"\",\"color\":_vm.color}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(_vm.icon))])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.name))])]),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c('v-text-field',{attrs:{\"rules\":[() => !!_vm.modalData.itemName || 'This field is required'],\"label\":\"이름*\",\"required\":\"\"},model:{value:(_vm.modalData.itemName),callback:function ($$v) {_vm.$set(_vm.modalData, \"itemName\", $$v)},expression:\"modalData.itemName\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c('v-text-field',{attrs:{\"type\":\"number\",\"rules\":[() => !!_vm.modalData.itemPrice || 'This field is required'],\"label\":\"가격*\",\"hint\":\"example of helper text only on focus\"},model:{value:(_vm.modalData.itemPrice),callback:function ($$v) {_vm.$set(_vm.modalData, \"itemPrice\", $$v)},expression:\"modalData.itemPrice\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('v-select',{attrs:{\"items\":_vm.modalData.categoryList,\"rules\":[() => !!_vm.modalData.categoryId || 'This field is required'],\"item-text\":\"name\",\"item-value\":\"categoryId\",\"label\":\"카테고리*\",\"required\":\"\"},model:{value:(_vm.modalData.categoryId),callback:function ($$v) {_vm.$set(_vm.modalData, \"categoryId\", $$v)},expression:\"modalData.categoryId\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"10\"}},[_c('v-select',{attrs:{\"items\":_vm.modalData.requiredOptionItems,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"필수 옵션*\",\"multiple\":\"\"},model:{value:(_vm.modalData.requiredOption),callback:function ($$v) {_vm.$set(_vm.modalData, \"requiredOption\", $$v)},expression:\"modalData.requiredOption\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"2\"}},[_c('item-option',{attrs:{\"optionType\":_vm.req},on:{\"addItemOption\":_vm.addItemOption}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"10\"}},[_c('v-select',{attrs:{\"items\":_vm.modalData.otherOptionItems,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"기타 옵션\",\"multiple\":\"\"},model:{value:(_vm.modalData.otherOption),callback:function ($$v) {_vm.$set(_vm.modalData, \"otherOption\", $$v)},expression:\"modalData.otherOption\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"2\"}},[_c('item-option',{attrs:{\"optionType\":_vm.otr},on:{\"addItemOption\":_vm.addItemOption}})],1)],1)],1),_c('small',[_vm._v(\"*indicates required field\")])],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Close \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\" Save \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"elevation\":\"2\",\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5 grey lighten-2\"},[_vm._v(\" 추가하기 \")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"옵션명*\",\"required\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.addItemOption.apply(null, arguments)}},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.addItemOption}},[_vm._v(\" Save \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n      v-model=\"dialog\"\n      width=\"500\"\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn\n          elevation=\"2\"\n          icon\n          v-bind=\"attrs\"\n          v-on=\"on\"\n      ><v-icon>mdi-pencil</v-icon></v-btn>\n    </template>\n\n    <v-card>\n      <v-card-title class=\"text-h5 grey lighten-2\">\n        추가하기\n      </v-card-title>\n\n      <v-card-text>\n        <v-text-field\n            label=\"옵션명*\"\n            v-model=\"data\"\n            @keyup.enter=\"addItemOption\"\n            required\n        />\n      </v-card-text>\n\n      <v-divider></v-divider>\n\n      <v-card-actions >\n        <v-spacer></v-spacer>\n        <v-btn\n            color=\"primary\"\n            text\n            @click=\"addItemOption\"\n        >\n          Save\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"MenuItem\",\n  data(){\n    return {\n      dialog : false,\n      data: \"\",\n    }\n  },\n  props:{\n    optionType:String\n  },\n  watch:{\n    dialog(){\n      this.data = '';\n      if(this.dialog) this.$emit(\"init\");\n    }\n  },\n  methods:{\n    addItemOption : function () {\n      if(!this.data) return;\n\n      this.dialog = !this.dialog\n      this.$emit('addItemOption',this.data,this.optionType)\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemOption.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemOption.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemOption.vue?vue&type=template&id=5d3ebb3e&scoped=true&\"\nimport script from \"./ItemOption.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemOption.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d3ebb3e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-dialog\n      v-model=\"dialog\"\n      width=\"500\"\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn\n          elevation=\"2\"\n          icon\n          :color=\"color\"\n          v-bind=\"attrs\"\n          v-on=\"on\"\n      ><v-icon>{{ icon }}</v-icon></v-btn>\n    </template>\n\n    <v-card>\n      <v-card-title>\n        <span class=\"text-h5\">{{ name }}</span>\n      </v-card-title>\n      <v-card-text>\n        <v-container>\n          <v-row>\n            <v-col\n                cols=\"12\"\n                sm=\"12\"\n                md=\"12\"\n            >\n              <v-text-field\n                  v-model=\"modalData.itemName\"\n                  :rules=\"[() => !!modalData.itemName || 'This field is required']\"\n                  label=\"이름*\"\n                  required\n              />\n            </v-col>\n            <v-col\n                cols=\"12\"\n                sm=\"12\"\n                md=\"12\"\n            >\n              <v-text-field\n                  type=\"number\"\n                  v-model=\"modalData.itemPrice\"\n                  :rules=\"[() => !!modalData.itemPrice || 'This field is required']\"\n                  label=\"가격*\"\n                  hint=\"example of helper text only on focus\"\n              />\n            </v-col>\n            <v-col\n                cols=\"12\"\n                sm=\"12\"\n            >\n              <v-select\n                  v-model=\"modalData.categoryId\"\n                  :items=\"modalData.categoryList\"\n                  :rules=\"[() => !!modalData.categoryId || 'This field is required']\"\n                  item-text=\"name\"\n                  item-value=\"categoryId\"\n                  label=\"카테고리*\"\n                  required\n              />\n            </v-col>\n\n            <v-col\n                cols=\"12\"\n                sm=\"10\"\n            >\n              <v-select\n                  v-model=\"modalData.requiredOption\"\n                  :items=\"modalData.requiredOptionItems\"\n                  item-text=\"name\"\n                  item-value=\"id\"\n                  label=\"필수 옵션*\"\n                  multiple\n              />\n            </v-col>\n            <v-col\n                cols=\"12\"\n                sm=\"2\"\n            >\n            <item-option\n                @addItemOption=\"addItemOption\"\n                :optionType=\"req\"\n            />\n            </v-col>\n            <v-col\n                cols=\"12\"\n                sm=\"10\"\n            >\n              <v-select\n                  v-model=\"modalData.otherOption\"\n                  :items=\"modalData.otherOptionItems\"\n                  item-text=\"name\"\n                  item-value=\"id\"\n                  label=\"기타 옵션\"\n                  multiple\n              />\n            </v-col>\n            <v-col\n                cols=\"12\"\n                sm=\"2\"\n            >\n              <item-option\n                  @addItemOption=\"addItemOption\"\n                  :optionType=\"otr\"\n              />\n            </v-col>\n\n          </v-row>\n        </v-container>\n        <small>*indicates required field</small>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn\n            color=\"blue darken-1\"\n            text\n            @click=\"dialog = false\"\n        >\n          Close\n        </v-btn>\n        <v-btn\n            color=\"blue darken-1\"\n            text\n            @click=\"save\"\n        >\n          Save\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport ItemOption from \"@/components/ItemOption\";\nexport default {\n  name: \"MenuItem\",\n  components:{\n    ItemOption\n  },\n  data(){\n    return {\n      dialog : false,\n      req: 'REQUIRED',\n      otr: 'OTHER',\n    }\n  },\n  watch:{\n    dialog(){\n      if(this.dialog) this.$emit(\"init\");\n    },\n  },\n  props:{\n    modalData: {\n      itemName : String,\n      itemPrice : Number,\n      categoryId: String,\n      categoryList : Array,\n      requiredOption : Array,\n      otherOption : Array,\n    },\n    icon : String,\n    color : String,\n    name : String,\n  },\n  methods:{\n    save : function () {\n      this.dialog =false\n      this.$emit('save')\n    },\n    addItemOption : function (itemOptionValue,optionType){\n      this.$emit(\"addItemOption\",itemOptionValue,optionType)\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuItem.vue?vue&type=template&id=285b38a2&scoped=true&\"\nimport script from \"./MenuItem.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"285b38a2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <v-subheader class=\"py-0 d-flex justify-space-between rounded-lg\">\n      <h3>메뉴 관리</h3>\n      <MenuItem\n          :modalData=\"modalData\"\n          :icon=\"modalSet.icon.register\"\n          :color=\"modalSet.color.red\"\n          :name=\"modalSet.words.register\"\n          @save=\"itemSave\"\n          @addItemOption=\"addItemOption\"\n          @init=\"getModalData\"\n      />\n\n    </v-subheader>\n    <v-form @submit.prevent>\n      <v-container>\n        <v-row>\n          <v-col\n              cols=\"12\"\n              md=\"4\"\n          >\n            <v-text-field\n                v-model=\"word\"\n                label=\"검색\"\n                required\n            ></v-text-field>\n          </v-col>\n\n        </v-row>\n      </v-container>\n    </v-form>\n    <v-col>\n      <v-data-table\n          :headers=\"headers\"\n          :items=\"menus\"\n          :items-per-page=\"itemsPerPage\"\n          hide-default-footer\n          class=\"elevation-1\"\n      >\n\n        <template v-slot:item.modify=\"{ item }\">\n          <MenuItem\n              :modalData=\"modalData\"\n              :icon=\"modalSet.icon.modify\"\n              :color=\"modalSet.color.primary\"\n              :name=\"modalSet.words.modify\"\n              @init=\"editModalOpen(item)\"\n              @save=\"itemSave\"\n              @addItemOption=\"addItemOption\"\n          />\n        </template>\n\n      </v-data-table>\n      <div class=\"text-center pt-2\">\n        <v-pagination\n            v-model=\"page\"\n            :length=\"pageCount\"\n            :total-visible=\"totalVisible\"\n            @click=\"getMenu\"\n        ></v-pagination>\n      </div>\n    </v-col>\n  </div>\n</template>\n\n<script>\nimport {\n  mdiContentSave, mdiDelete,\n  mdiPlus,\n\n} from '@mdi/js'\nimport MenuItem from \"@/components/MenuItem\";\nimport store from \"@/api/store\";\n\nexport default {\n  name: \"Menu\",\n  components:{\n    MenuItem,\n  },\n  watch:{\n    page:function () {\n      this.getMenu();\n    },\n    word:function () {\n      if(this.page === 1)\n        this.getMenu()\n      else\n        this.page =1;\n    },\n  },\n  data() {\n    return {\n      icons: {\n        mdiContentSave,\n        mdiPlus,\n        mdiDelete,\n      },\n      modalSet:{\n        words:{\n          register:\"상품 등록\",\n          modify:\"수정 하기\",\n        },\n        icon:{\n          register: \"mdi-plus\",\n          modify: \"mdi-pencil\",\n        },\n        color:{\n          primary: \"primary\",\n          red: \"red\"\n        }\n      },\n      modalData:{\n        itemId : Number,\n        itemName : String,\n        itemPrice : Number,\n        categoryId: Number,\n        categoryList : ['카테고리1','카테고리2'],\n        requiredOption : [],\n        otherOption : []\n      },\n      page: 1,\n      pageCount: 1,\n      itemsPerPage: 10,\n      totalVisible: 10,\n      headers: [\n        {\n          text: '메뉴번호',\n          align: 'start',\n          sortable: false,\n          value: 'id',\n        },\n        { text: '이름', value: 'name' , sortable: false},\n        { text: '카테고리', value: 'categoryName', sortable: false },\n        { text: '가격', value: 'price' , sortable: false},\n        { text: '수정', value: 'modify' , sortable: false},\n      ],\n      word:\"\",\n      menus: [],\n    }\n  },\n  methods:{\n    getMenu(){\n      var vm = this;\n      const searchParam= {\n        word: vm.word,\n        page: vm.page-1\n      }\n      store.getMenu(searchParam)\n      .then(function (response) {\n        const page = response.data.data.page;\n        vm.menus = response.data.data.itemList;\n        vm.page = page.startPage+1;\n        vm.pageCount = page.totalPage;\n      });\n    },\n    getModalData:function(){\n      var vm =this;\n      this.modalData = {\n        itemName : '',\n        itemPrice : '',\n        categoryId: 0,\n        categoryList : [],\n        requiredOption : [],\n        requiredOptionItems : [],\n        otherOption : [],\n        otherOptionItems : []\n      }\n\n      store.getCategoryList()\n        .then(function (response) {\n          response.data.data.forEach(function (ele){\n            vm.modalData.categoryList.push(ele)\n          })\n        });\n    },\n    editModalOpen:function(item){\n      var vm = this\n      this.getModalData();\n\n      store.getItemById(item.id)\n        .then(function (response) {\n          var item = response.data.data;\n          vm.modalData.itemId = item.id;\n          vm.modalData.itemName = item.name;\n          vm.modalData.itemPrice = item.price;\n          vm.modalData.categoryId = item.categoryId;\n          item.itemOptions.forEach(function(ele){\n            if(ele.optionType === \"REQUIRED\"){\n              vm.modalData.requiredOption.push(ele)\n              vm.modalData.requiredOptionItems.push(ele)\n            }\n            else{\n              vm.modalData.otherOption.push(ele)\n              vm.modalData.otherOptionItems.push(ele)\n            }\n          })\n        });\n    },\n    itemSave:function(){\n      var method =''\n      var itemData = this.modalData;\n      if (this.modalData.itemId!=null)\n        method='put'\n      else\n        method='post'\n\n\n      var requiredOption = []\n      for (const ele of this.modalData.requiredOption) {\n        if(isNaN(ele)) {\n          requiredOption.push(ele)\n        }else{\n          const option = this.modalData.requiredOptionItems.find(value => value.id == ele)\n          requiredOption.push(option)\n        }\n      }\n\n      var otherOption = []\n      for (const ele of this.modalData.otherOption) {\n        if(isNaN(ele)) {\n          otherOption.push(ele)\n        }else{\n          const option = this.modalData.otherOptionItems.find(value => value.id == ele)\n          otherOption.push(option)\n        }\n      }\n\n      this.modalData.requiredOption = requiredOption\n      this.modalData.otherOption = otherOption\n      store.saveItem(method,itemData)\n    },\n    addItemOption:function (itemOptionValue,type){\n      var item = {\n        name:itemOptionValue,\n        optionType:type\n      }\n      if(type ==='REQUIRED'){\n        this.modalData.requiredOption.push(item)\n        this.modalData.requiredOptionItems.push(item)\n      }\n      else{\n        this.modalData.otherOption.push(item)\n        this.modalData.otherOptionItems.push(item)\n      }\n\n    }\n  },\n\n  mounted() {\n    this.getMenu()\n    this.getModalData()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=7005fa64&scoped=true&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7005fa64\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}