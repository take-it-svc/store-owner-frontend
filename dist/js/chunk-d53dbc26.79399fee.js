(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d53dbc26"],{"4bd4":function(t,a,e){"use strict";e("14d9");var i=e("58df"),o=e("7e2b"),r=e("3206");a["a"]=Object(i["a"])(o["a"],Object(r["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const a=Object.values(t).includes(!0);this.$emit("input",!a)},deep:!0,immediate:!0}},methods:{watchInput(t){const a=t=>t.$watch("hasError",a=>{this.$set(this.errorBag,t._uid,a)},{immediate:!0}),e={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?e.shouldValidate=t.$watch("shouldValidate",i=>{i&&(this.errorBag.hasOwnProperty(t._uid)||(e.valid=a(t)))}):e.valid=a(t),e},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const a=this.inputs.find(a=>a._uid===t._uid);if(!a)return;const e=this.watchers.find(t=>t._uid===a._uid);e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==a._uid),this.inputs=this.inputs.filter(t=>t._uid!==a._uid),this.$delete(this.errorBag,a._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},"9a0b":function(t,a,e){"use strict";e.r(a);var i=e("62ad"),o=e("a523"),r=e("8fea"),s=e("4bd4"),n=e("891e"),d=e("0fd9"),l=e("e0c7"),m=e("8654"),u=function(){var t=this,a=t._self._c;return a("div",[a(l["a"],{staticClass:"py-0 d-flex justify-space-between rounded-lg"},[a("h3",[t._v("메뉴 관리")]),a("MenuItem",{attrs:{modalData:t.modalData,icon:t.modalSet.icon.register,color:t.modalSet.color.red,name:t.modalSet.words.register},on:{save:t.itemSave,addItemOption:t.addItemOption,init:t.getModalData}})],1),a(s["a"],{on:{submit:function(t){t.preventDefault()}}},[a(o["a"],[a(d["a"],[a(i["a"],{attrs:{cols:"12",md:"4"}},[a(m["a"],{attrs:{label:"검색",required:""},model:{value:t.word,callback:function(a){t.word=a},expression:"word"}})],1)],1)],1)],1),a(i["a"],[a(r["a"],{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.menus,"items-per-page":t.itemsPerPage,"hide-default-footer":""},scopedSlots:t._u([{key:"item.modify",fn:function({item:e}){return[a("MenuItem",{attrs:{modalData:t.modalData,icon:t.modalSet.icon.modify,color:t.modalSet.color.primary,name:t.modalSet.words.modify},on:{init:function(a){return t.editModalOpen(e)},save:t.itemSave,addItemOption:t.addItemOption}})]}}])}),a("div",{staticClass:"text-center pt-2"},[a(n["a"],{attrs:{length:t.pageCount,"total-visible":t.totalVisible},on:{click:t.getMenu},model:{value:t.page,callback:function(a){t.page=a},expression:"page"}})],1)],1)],1)},c=[],p=(e("14d9"),e("94ed")),h=e("8336"),g=e("b0af"),f=e("99d9"),v=e("169a"),b=e("132d"),D=e("b974"),O=e("2fa4"),y=function(){var t=this,a=t._self._c;return a(v["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:e,attrs:i}){return[a(h["a"],t._g(t._b({attrs:{elevation:"2",icon:"",color:t.color}},"v-btn",i,!1),e),[a(b["a"],[t._v(t._s(t.icon))])],1)]}}]),model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[a(g["a"],[a(f["d"],[a("span",{staticClass:"text-h5"},[t._v(t._s(t.name))])]),a(f["c"],[a(o["a"],[a(d["a"],[a(i["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[a(m["a"],{attrs:{rules:[()=>!!t.modalData.itemName||"This field is required"],label:"이름*",required:""},model:{value:t.modalData.itemName,callback:function(a){t.$set(t.modalData,"itemName",a)},expression:"modalData.itemName"}})],1),a(i["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[a(m["a"],{attrs:{type:"number",rules:[()=>!!t.modalData.itemPrice||"This field is required"],label:"가격*",hint:"example of helper text only on focus"},model:{value:t.modalData.itemPrice,callback:function(a){t.$set(t.modalData,"itemPrice",a)},expression:"modalData.itemPrice"}})],1),a(i["a"],{attrs:{cols:"12",sm:"12"}},[a(D["a"],{attrs:{items:t.modalData.categoryList,rules:[()=>!!t.modalData.categoryId||"This field is required"],"item-text":"name","item-value":"categoryId",label:"카테고리*",required:""},model:{value:t.modalData.categoryId,callback:function(a){t.$set(t.modalData,"categoryId",a)},expression:"modalData.categoryId"}})],1),a(i["a"],{attrs:{cols:"12",sm:"10"}},[a(D["a"],{attrs:{items:t.modalData.requiredOptionItems,"item-text":"name","item-value":"id",label:"필수 옵션*",multiple:""},model:{value:t.modalData.requiredOption,callback:function(a){t.$set(t.modalData,"requiredOption",a)},expression:"modalData.requiredOption"}})],1),a(i["a"],{attrs:{cols:"12",sm:"2"}},[a("item-option",{attrs:{optionType:t.req},on:{addItemOption:t.addItemOption}})],1),a(i["a"],{attrs:{cols:"12",sm:"10"}},[a(D["a"],{attrs:{items:t.modalData.otherOptionItems,"item-text":"name","item-value":"id",label:"기타 옵션",multiple:""},model:{value:t.modalData.otherOption,callback:function(a){t.$set(t.modalData,"otherOption",a)},expression:"modalData.otherOption"}})],1),a(i["a"],{attrs:{cols:"12",sm:"2"}},[a("item-option",{attrs:{optionType:t.otr},on:{addItemOption:t.addItemOption}})],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a(f["a"],[a(O["a"]),a(h["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(a){t.dialog=!1}}},[t._v(" Close ")]),a(h["a"],{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1)},I=[],_=e("ce7e"),w=function(){var t=this,a=t._self._c;return a(v["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:e,attrs:i}){return[a(h["a"],t._g(t._b({attrs:{elevation:"2",icon:""}},"v-btn",i,!1),e),[a(b["a"],[t._v("mdi-pencil")])],1)]}}]),model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[a(g["a"],[a(f["d"],{staticClass:"text-h5 grey lighten-2"},[t._v(" 추가하기 ")]),a(f["c"],[a(m["a"],{attrs:{label:"옵션명*",required:""},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.addItemOption.apply(null,arguments)}},model:{value:t.data,callback:function(a){t.data=a},expression:"data"}})],1),a(_["a"]),a(f["a"],[a(O["a"]),a(h["a"],{attrs:{color:"primary",text:""},on:{click:t.addItemOption}},[t._v(" Save ")])],1)],1)],1)},x=[],k={name:"MenuItem",data(){return{dialog:!1,data:""}},props:{optionType:String},watch:{dialog(){this.data="",this.dialog&&this.$emit("init")}},methods:{addItemOption:function(){this.data&&(this.dialog=!this.dialog,this.$emit("addItemOption",this.data,this.optionType))}}},q=k,S=e("2877"),M=Object(S["a"])(q,w,x,!1,null,"5d3ebb3e",null),$=M.exports,N={name:"MenuItem",components:{ItemOption:$},data(){return{dialog:!1,req:"REQUIRED",otr:"OTHER"}},watch:{dialog(){this.dialog&&this.$emit("init")}},props:{modalData:{itemName:String,itemPrice:Number,categoryId:String,categoryList:Array,requiredOption:Array,otherOption:Array},icon:String,color:String,name:String},methods:{save:function(){this.dialog=!1,this.$emit("save")},addItemOption:function(t,a){this.$emit("addItemOption",t,a)}}},E=N,P=Object(S["a"])(E,y,I,!1,null,"285b38a2",null),B=P.exports,C=e("73f5"),T={name:"Menu",components:{MenuItem:B},watch:{page:function(){this.getMenu()},word:function(){1===this.page?this.getMenu():this.page=1}},data(){return{icons:{mdiContentSave:p["a"],mdiPlus:p["c"],mdiDelete:p["b"]},modalSet:{words:{register:"상품 등록",modify:"수정 하기"},icon:{register:"mdi-plus",modify:"mdi-pencil"},color:{primary:"primary",red:"red"}},modalData:{itemId:Number,itemName:String,itemPrice:Number,categoryId:Number,categoryList:["카테고리1","카테고리2"],requiredOption:[],otherOption:[]},page:1,pageCount:1,itemsPerPage:10,totalVisible:10,headers:[{text:"메뉴번호",align:"start",sortable:!1,value:"id"},{text:"이름",value:"name",sortable:!1},{text:"카테고리",value:"categoryName",sortable:!1},{text:"가격",value:"price",sortable:!1},{text:"수정",value:"modify",sortable:!1}],word:"",menus:[]}},methods:{getMenu(){var t=this;const a={word:t.word,page:t.page-1};C["a"].getMenu(a).then((function(a){const e=a.data.data.page;t.menus=a.data.data.itemList,t.page=e.startPage+1,t.pageCount=e.totalPage}))},getModalData:function(){var t=this;this.modalData={itemName:"",itemPrice:"",categoryId:0,categoryList:[],requiredOption:[],requiredOptionItems:[],otherOption:[],otherOptionItems:[]},C["a"].getCategoryList().then((function(a){a.data.data.forEach((function(a){t.modalData.categoryList.push(a)}))}))},editModalOpen:function(t){var a=this;this.getModalData(),C["a"].getItemById(t.id).then((function(t){var e=t.data.data;a.modalData.itemId=e.id,a.modalData.itemName=e.name,a.modalData.itemPrice=e.price,a.modalData.categoryId=e.categoryId,e.itemOptions.forEach((function(t){"REQUIRED"===t.optionType?(a.modalData.requiredOption.push(t),a.modalData.requiredOptionItems.push(t)):(a.modalData.otherOption.push(t),a.modalData.otherOptionItems.push(t))}))}))},itemSave:function(){var t="",a=this.modalData;t=null!=this.modalData.itemId?"put":"post";var e=[];for(const o of this.modalData.requiredOption)if(isNaN(o))e.push(o);else{const t=this.modalData.requiredOptionItems.find(t=>t.id==o);e.push(t)}var i=[];for(const o of this.modalData.otherOption)if(isNaN(o))i.push(o);else{const t=this.modalData.otherOptionItems.find(t=>t.id==o);i.push(t)}this.modalData.requiredOption=e,this.modalData.otherOption=i,C["a"].saveItem(t,a)},addItemOption:function(t,a){var e={name:t,optionType:a};"REQUIRED"===a?(this.modalData.requiredOption.push(e),this.modalData.requiredOptionItems.push(e)):(this.modalData.otherOption.push(e),this.modalData.otherOptionItems.push(e))}},mounted(){this.getMenu(),this.getModalData()}},V=T,j=Object(S["a"])(V,u,c,!1,null,"7005fa64",null);a["default"]=j.exports}}]);
//# sourceMappingURL=chunk-d53dbc26.79399fee.js.map